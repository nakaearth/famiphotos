# frozen_string_literal: true
class Album < FamiphotosPlatform::FamiphotoBase
  include Searchable

  use_switch_point :famiphoto

  ####################################################################
  ################# Association ######################################
  ####################################################################
  # has_many :photos, inverse_of: :album
  has_many :photos
  belongs_to :group

  ####################################################################
  ####################### Validation #################################
  ####################################################################
  validates :title, presence: true, length: { maximum: 80 }

  ####################################################################
  ##################### コールバック群 ###############################
  ####################################################################

  ####################################################################
  ##################### クラスメソッド ###############################
  ####################################################################
  class << self
  end

  ####################################################################
  ##################### インスタンスメソッド #########################
  ####################################################################
  # [memo] もしかしたら、これはdecoratorにおくべきかな？
  def top_image_url
    return 'np_photo.gif' if photos.blank?

    photos.first.thumb_url
  end
end
